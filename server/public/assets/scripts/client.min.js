var app=angular.module("myApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/login.html",controller:"LoginController"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterController"}).when("/thankyou",{templateUrl:"views/thankyou.html",controller:"LoginController"}).when("/login",{templateUrl:"views/login.html",controller:"LoginController"}).when("/logout",{templateUrl:"views/login.html",controller:"LoginController"}).when("/try_again",{templateUrl:"views/try_again.html",controller:"LoginController"}).when("/menu",{templateUrl:"views/menu.html",controller:"MenuController"}).when("/task_entry",{templateUrl:"views/task_entry.html",controller:"TaskEntryController"}).when("/select_tasks",{templateUrl:"views/select_tasks.html",controller:"SelectTasksController"}).when("/history",{templateUrl:"views/history.html",controller:"HistoryController"}).when("/ancient_history",{templateUrl:"views/ancient_history.html",controller:"AncientHistoryController"}).when("/*",{templateUrl:"views/login.html"}),b.html5Mode(!0)}]),app.controller("MainController",["$scope","$location","userData","$http",function(a,b,c,d){a.notSignedIn=!0,a.signedIn=!1,a.logoutUser=function(){d.get("/logout").success(function(){b.path("login")})},changeNavLinks=function(){""!==c.currentUser.username?(a.notSignedIn=!1,a.signedIn=!0):(a.notSignedIn=!0,a.signedIn=!1)}}]),app.controller("LoginController",["$scope","$http","$location","userData",function(a,b,c,d){a.data={},a.submitData=function(){b.post("/",a.data).then(function(b){d.setUser(a.data.username),c.path(b.data)})}}]),app.controller("RegisterController",["$scope","$http","$location","userData",function(a,b,c,d){a.data={},a.thankyou=!1,a.showThankyou=function(){a.thankyou=!0},a.submitNewData=function(){b.post("/register",a.data).then(function(a){})}}]),app.controller("MenuController",["$scope","$http",function(a,b){b.get("/getUser").then(function(b){a.user=b})}]),app.controller("TaskEntryController",["$scope","$http","$location",function(a,b,c){a.submitTasks=function(){var c={tasks:a.taskList};b.post("/taskEntry",c)},a.showHistory=function(){b.get("/history").success(function(){c.path("history")})}}]),app.controller("HistoryController",["$http","$scope",function(a,b){b.tasks=[],a.get("/history").then(function(a){b.tasks=a.data})}]),app.controller("AncientHistoryController",["$http","$scope",function(a,b){b.oldTasks=[],b.getOldDates=function(){a.post("/ancient_history",{startDate:b.startDate}).then(function(a){b.oldTasks=a.data})}}]),app.factory("userData",function(){var a={username:""},b=function(b){a.username=b,changeNavLinks()},c=function(b){a.password=b};return{currentUser:a,setUser:b,setPassword:c}});