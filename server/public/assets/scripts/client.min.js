var app=angular.module("myApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/login.html",controller:"LoginController"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterController"}).when("/login",{templateUrl:"views/login.html",controller:"LoginController"}).when("/try_again",{templateUrl:"views/try_again.html",controller:"LoginController"}).when("/menu",{templateUrl:"views/menu.html",controller:"MenuController"}).when("/task_entry",{templateUrl:"views/task_entry.html",controller:"TaskEntryController"}).when("/select_tasks",{templateUrl:"views/select_tasks.html",controller:"SelectTasksController"}).when("/history",{templateUrl:"views/history.html",controller:"HistoryController"}).when("/logout",{redirectTo:"views/login.html"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),app.controller("MainController",["$scope","userData","$http",function(a,b,c){a.notSignedIn=!0,a.signedIn=!1,a.logout=function(){c.get("/logout")},changeNavLinks=function(){""!==b.currentUser.username?(a.notSignedIn=!1,a.signedIn=!0):(a.notSignedIn=!0,a.signedIn=!1)}}]),app.controller("LoginController",["$scope","$http","$location","userData",function(a,b,c,d){a.data={},a.submitData=function(){b.post("/",a.data).then(function(b){d.setUser(a.data.username),console.log("$scope.data on client.js:",a.data),c.path(b.data)})}}]),app.controller("RegisterController",["$scope","$http","$location",function(a,b,c){a.data={},a.submitNewData=function(){b.post("/",a.data).then(function(b){userData.setUser(a.data.username),console.log("$scope.data.username is logged as:",a.data.username),c.path(b.data)})}}]),app.controller("MenuController",["$scope","$http",function(a,b){b.get("/getUser").then(function(b){console.log("MenuController /getUser response",b),a.user=b})}]),app.controller("TaskEntryController",["$scope","$http","$location","userData",function(a,b,c){a.user={},b.get("/getUser").then(function(b){console.log("TaskEntry /getUser response",b),a.user=b}),a.submitTasks=function(){a.sendData={taskList:JSON.stringify(a.taskList)},b.post("/",JSON.stringify({taskList:a.taskList})).then(function(a){console.log("taskList array entered:",a.config.data)})}}]),app.controller("SelectTasksController",["$scope","$http",function(a,b){}]),app.controller("HistoryController",["$scope",function(a){}]),app.factory("userData",["$http","$rootScope","$timeout",function(a){var b={username:""},c=function(a){b.username=a,changeNavLinks()};return{currentUser:b,setUser:c}}]);